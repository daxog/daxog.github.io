---
import Layout from "../layouts/Layout.astro";

const allPosts = Object.values(import.meta.glob('./posts/*.md', { eager: true }));
---

<Layout title="Writing | daxog">
  <div class="text-center mx-auto mt-12 text-left max-w-2xl px-4">
    <h1 class="text-3xl">Writing</h1>
    {allPosts.length === 0 ? (
      <p class="mt-6">Nothing yet.</p>
    ) : (
      allPosts.map((post: any) => 
        <ul class="block mt-6">
          <div class="flex justify-between items-center">
            <a href={post.url} class="text-xl hover:underline">{post.frontmatter.title}</a>
            <p class="text-sm text-gray-500">
              {new Date(post.frontmatter.date).toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric'})}
            </p>
          </div>
          <p class="text-base mt-1 text-gray-600">{post.frontmatter.description}</p>
        </ul>
      )
    )}
  </div>
</Layout>